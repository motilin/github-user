{"version":3,"sources":["components/UserQuery.js","components/useFetch.js","components/useMountedRef.js","components/Fetch.js","components/RepoReadme.js","components/RepoMenu.js","components/useIterator.js","components/RepoList.js","components/UserInfo.js","App.js","reportWebVitals.js","index.js"],"names":["UserQuery","setLogin","inputBox","useRef","initialValue","useState","value","setValue","onChange","e","target","useInput","inputProps","resetInput","_setLogin","useEffect","current","focus","onSubmit","preventDefault","className","ref","saveJSON","key","data","localStorage","setItem","JSON","stringify","useFetch","url","setData","error","setError","loading","setLoading","localData","parse","getItem","console","log","getData","a","fetch","res","json","login","Array","isArray","newData","useMountedRef","mounted","Fetch","uri","renderSuccess","renderLoading","renderError","RepoReadme","name","URL","markdown","setMarkdown","mdUrl","download_url","mdRes","text","md","loadMD","children","RepoMenu","repositories","repoArray","Object","values","splice","items","setName","index","setIndex","length","useIterator","repo","prev","next","style","display","onClick","href","clone_url","rel","RepoList","REPO_URL","UserInfo","USR_URL","src","avatar_url","alt","width","location","created_at","html_url","App","document","title","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8d00ed4b.chunk.js","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\n\r\nexport default function UserQuery({ setLogin }) {\r\n  const inputBox = useRef(null);\r\n  const useInput = (initialValue) => {\r\n    const [value, setValue] = useState(initialValue);\r\n    return [\r\n      { value, onChange: (e) => setValue(e.target.value) },\r\n      () => setValue(initialValue),\r\n      () => setLogin(value),\r\n    ];\r\n  };\r\n\r\n  const [inputProps, resetInput, _setLogin] = useInput(\"\");\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    _setLogin();\r\n    resetInput();\r\n  };\r\n\r\n  useEffect(() => {\r\n    inputBox.current.focus();\r\n  });\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <label className='label'>github username</label>\r\n      <input ref={inputBox} {...inputProps} />\r\n      <button>Submit</button>\r\n    </form>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\n\r\nconst loadJSON = (key) => {\r\n  return JSON.parse(localStorage.getItem(key));\r\n};\r\nconst saveJSON = (key, data) => {\r\n  localStorage.setItem(key, JSON.stringify(data));\r\n};\r\n\r\nexport default function useFetch(url) {\r\n  const [data, setData] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!url) return;\r\n    if (data && data.url === url) return;\r\n    setError(null);\r\n    const localData = loadJSON(url);\r\n    if (localData && localData.url === url) {\r\n      setData(localData);\r\n      console.log(\"fetched from local storage\");\r\n      return;\r\n    }\r\n    async function getData() {\r\n      try {\r\n        setLoading(true);\r\n        const res = await fetch(url);\r\n        const data = await res.json();\r\n        setLoading(false);\r\n        if (!data.login && !Array.isArray(data)) {\r\n          setError(data);\r\n          setData(null);\r\n        } else {\r\n          let newData = { ...data };\r\n          newData[\"url\"] = url;\r\n          setData(data);\r\n          saveJSON(url, newData);\r\n        }\r\n      } catch (e) {\r\n        setError(e);\r\n      }\r\n    }\r\n    getData();\r\n  }, [url]);\r\n\r\n  return { data, loading, error };\r\n}\r\n","import { useRef, useEffect } from \"react\";\r\n\r\nexport default function useMountedRef() {\r\n  const mounted = useRef(false);\r\n  useEffect(() => {\r\n    mounted.current = true;\r\n    return () => (mounted.current = false);\r\n  });\r\n  return mounted;\r\n}\r\n","import React from \"react\";\r\nimport useFetch from \"./useFetch.js\";\r\nimport useMountedRef from \"./useMountedRef.js\";\r\n\r\nexport default function Fetch({\r\n  uri,\r\n  renderSuccess = (data) => <pre>{JSON.stringify(data, null, 2)}</pre>,\r\n  renderLoading = <h1>Loading...</h1>,\r\n  renderError = (error) => <pre>{JSON.stringify(error, null, 2)}</pre>,\r\n}) {\r\n  const mounted = useMountedRef();\r\n  const { data, loading, error } = useFetch(uri);\r\n\r\n  if (!mounted.current) return null;\r\n  if (loading) {\r\n    return renderLoading;\r\n  } else if (error) {\r\n    return renderError(error);\r\n  } else if (data) {\r\n    return renderSuccess(data);\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport useMountedRef from \"./useMountedRef.js\";\r\n\r\nexport default function RepoReadme({ login, name }) {\r\n  const URL = `https://api.github.com/repos/${login}/${name}/readme`;\r\n\r\n  const [markdown, setMarkdown] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const mounted = useMountedRef();\r\n\r\n  async function loadMD(url) {\r\n    try {\r\n      setMarkdown(null);\r\n      setLoading(true);\r\n      setError(null);\r\n      const res = await fetch(url);\r\n      const mdUrl = await res.json();\r\n      if (!mdUrl.download_url) {\r\n        setError(mdUrl);\r\n      }\r\n      const mdRes = await fetch(mdUrl.download_url);\r\n      const md = await mdRes.text();\r\n      setMarkdown(md);\r\n      setLoading(false);\r\n    } catch (e) {\r\n      setError(e);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!login || !name) return;\r\n    loadMD(URL);\r\n  }, [login, name]);\r\n\r\n  if (!mounted.current) return null;\r\n  if (loading) return <h2 className=\"loadingRepo\">Loading readme ...</h2>;\r\n  if (error)\r\n    return <pre className=\"errorRepo\">{JSON.stringify(error, null, 2)}</pre>;\r\n\r\n  return <ReactMarkdown children={markdown} className=\"markdown\" />;\r\n}\r\n","import React from \"react\";\r\nimport useIterator from \"./useIterator.js\";\r\nimport RepoReadme from \"./RepoReadme.js\";\r\n\r\nexport default function RepoMenu({ repositories, login }) {\r\n  let repoArray = Object.values(repositories);\r\n  repoArray.splice(-1, 1);\r\n  const [repo, prev, next] = useIterator(repoArray);\r\n\r\n  if (!repo) return;\r\n\r\n  return (\r\n    <div style={{ display: \"flex\" }}>\r\n      <div className=\"toggle-names\">\r\n        <button className=\"repoButton\" onClick={prev}>\r\n          &lt;\r\n        </button>\r\n        <a\r\n          className=\"repoName\"\r\n          href={repo.clone_url}\r\n          target=\"_blank\"\r\n          rel=\"noreferrer\"\r\n        >\r\n          {repo.name}\r\n        </a>\r\n        <button className=\"repoButton\" onClick={next}>\r\n          &gt;\r\n        </button>\r\n      </div>\r\n      <RepoReadme login={login} name={repo.name} />\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\n\r\nexport default function useIterator(items = [], initialValue = 0) {\r\n  const [name, setName] = useState(items[initialValue]);\r\n  const [index, setIndex] = useState(initialValue);\r\n\r\n  useEffect(() => {\r\n    setName(items[index]);\r\n  }, [index]);\r\n\r\n  const prev = () => {\r\n    if (index === 0) {\r\n      setIndex(items.length - 1);\r\n    } else {\r\n      setIndex(index - 1);\r\n    }\r\n  };\r\n\r\n  const next = () => {\r\n    if (index === items.length - 1) {\r\n      setIndex(0);\r\n    } else {\r\n      setIndex(index + 1);\r\n    }\r\n  };\r\n\r\n  return [name, prev, next];\r\n}\r\n","import React from \"react\";\r\nimport Fetch from \"./Fetch.js\";\r\nimport RepoMenu from \"./RepoMenu.js\";\r\n\r\nexport default function RepoList({ login }) {\r\n  const REPO_URL = `https://api.github.com/users/${login}/repos`;\r\n\r\n  return (\r\n    <Fetch\r\n      uri={REPO_URL}\r\n      renderSuccess={(data) => <RepoMenu repositories={data} login={login}/>}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport RepoList from \"./RepoList.js\";\r\nimport Fetch from \"./Fetch.js\";\r\n\r\nexport default function UserInfo({ login }) {\r\n  const USR_URL = \"https://api.github.com/users/\" + login;\r\n\r\n  function userDetails(data) {\r\n    return (\r\n      <div className=\"githubUser\">\r\n        <img src={data.avatar_url} alt={data.login} style={{ width: 200 }} />\r\n        <div>\r\n          <h1>{data.login}</h1>\r\n          {data.name && <p>{data.name}</p>}\r\n          {data.location && <p>{data.location}</p>}\r\n          {data.created_at && <p>{data.created_at}</p>}\r\n          {data.html_url && (\r\n            <a href={data.html_url} target=\"_blank\" rel=\"noreferrer\">\r\n              {data.html_url}\r\n            </a>\r\n          )}\r\n        </div>\r\n        <RepoList login={data.login} className=\"repo-list\"/>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <Fetch uri={USR_URL} renderSuccess={userDetails} />;\r\n}\r\n","import \"./App.css\";\nimport UserQuery from \"./components/UserQuery.js\";\nimport UserInfo from \"./components/UserInfo.js\";\nimport React, { useState } from \"react\";\n\nexport default function App() {\n  document.title = \"github user\";\n  const [login, setLogin] = useState(null);\n\n  return (\n    <>\n      <UserQuery setLogin={setLogin} />\n      <UserInfo login={login} />\n    </>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}